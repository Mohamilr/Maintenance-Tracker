{"version":3,"sources":["../../src/test/request.test.js"],"names":["chai","use","chaiHttp","should","describe","it","done","request","app","get","end","err","res","have","status","body","be","a","id","property","post","send","faultyItem","itemType","date","Date","complaint","set","put"],"mappings":"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","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\n\r\nimport app from '../index';\r\n\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\n//test to get all requests \r\ndescribe('GET allRequests', () => {\r\n  it(\"should get all requests\", (done) => {\r\n    chai.request(app)\r\n        .get(`/api/v1/users/requests`)\r\n        .end((err, res) => {\r\n        res.should.have.status(200);\r\n        res.body.should.be.a(\"object\");\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\n//test get by id endpoint\r\ndescribe('GET request by id', () => {\r\n  //test if the requst with id is present\r\n  describe('GET:id getSingleRequest', () => {\r\n    it('should get a single request by id', (done) => {\r\n      const id = 1;\r\n      chai.request(app)\r\n      .get(`/api/v1/users/requests/${id}`)\r\n      .end((err, res) => {\r\n        res.should.have.status(200);\r\n        res.body.should.be.a('object');\r\n        done();\r\n      })\r\n    })\r\n  })\r\n\r\n  //test if request with id is not present\r\n  describe('GET:id getSingleRequest', () => {\r\n    it('should give an errror if id is not present', (done) => {\r\n      const id = 4;\r\n      chai.request(app)\r\n      .get(`/api/v1/users/requests/${id}`)\r\n      .end((err, res) => {\r\n        res.should.have.status(404);\r\n        res.body.should.have.property('message');\r\n        done();\r\n      })\r\n    })\r\n  })\r\n})\r\n\r\n//test to add a request\r\ndescribe('POST addRequest', () => {\r\n  it('should add a request', (done) => {\r\n    chai.request(app)\r\n    .post(`/api/v1/users/requests`)\r\n    .send({\r\n      id: 4,\r\n      faultyItem: 'laptop',\r\n      itemType: 'dell',\r\n      date: new Date(),\r\n      complaint: 'the mother board',\r\n      status: 'pending'\r\n    })\r\n    .set('Accept', 'application/json')\r\n    .end((err, res) => {\r\n      res.should.have.status(201);\r\n      res.body.should.be.a('object');\r\n      res.body.request.should.have.property('id');\r\n      res.body.request.should.have.property('faultyItem');\r\n      res.body.request.should.have.property('itemType');\r\n      res.body.request.should.have.property('date');\r\n      res.body.request.should.have.property('complaint');\r\n      res.body.request.should.have.property('status');\r\n      done()\r\n    })\r\n  })\r\n})\r\n\r\n//test to modify a request\r\ndescribe('PUT modifyARequest', () => {\r\n  it('should modify a request', (done) => {\r\n    const id = 2;\r\n    chai.request(app)\r\n    .put(`/api/v1/users/requests/${id}`)\r\n    .send({\r\n      faultyItem: 'laptop',\r\n      itemType: 'dell',\r\n      complaint: 'the mother board',\r\n    })\r\n    .end((err, res) => {\r\n      res.should.have.status(200);\r\n      res.body.should.be.a('object');\r\n      done()\r\n    })\r\n  })\r\n})\r\n"],"file":"request.test.js"}